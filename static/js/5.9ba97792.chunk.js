(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{168:function(e,a,t){},202:function(e,a,t){},243:function(e,a,t){"use strict";t.r(a);var n=t(17),r=t(0),l=t.n(r),o=t(237),i=t(244),s=t(234),c=t(236),m=t(156),u=t(151),v=t(238),d=t(29),f=function(e){return""!==e.trim()},b=function(e){return function(a){var t=!0;return e.min&&(t=t&&a.trim().length>=e.min),e.max&&(t=t&&a.trim().length<=e.max),t}},p=function(e){return/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)},g=t(28),h=(t(168),function(e){var a=e.error,t=e.userCreated,o={email:{value:"",valid:!1,validators:[p,f]},password:{value:"",valid:!1,validators:[f,b({min:5})]},name:{value:"",valid:!1,validators:[f]},userName:{value:"",valid:!1,validators:[f]},formIsValid:!1},i=Object(r.useState)(o),s=Object(n.a)(i,2),c=s[0],h=s[1],E=Object(r.useContext)(g.c),w=Object(n.a)(E,2),O=w[0],j=w[1],y=function(e){return function(a){var t=!0,n=!0,r=!1,l=void 0;try{for(var o,i=c[e].validators[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;t=t&&s(a.target.value)}}catch(b){r=!0,l=b}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}var v=Object(u.a)({},c,Object(m.a)({},e,Object(u.a)({},c[e],{value:a.target.value,valid:t}))),d=!0;for(var f in v)"formIsValid"!==f&&(d=d&&v[f].valid);v=Object(u.a)({},v,{formIsValid:d}),h(v)}};return l.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),j(Object(u.a)({},O,{showLoader:!0}));var n={name:c.name.value,email:c.email.value,userName:c.userName.value,password:c.password.value};Object(d.a)("auth/signup",JSON.stringify(n)).then(function(e){if(j(Object(u.a)({},O,{showLoader:!1})),201!==e.status)throw new Error(e.message);t("signIn"),h(o)}).catch(function(e){j(Object(u.a)({},O,{showLoader:!1})),a(e.message)})}(e)}},l.a.createElement("h1",null,"Sign up"),l.a.createElement("br",null),l.a.createElement(v.a,{label:"Full Name",value:c.name.value,onChange:y("name"),margin:"normal"}),!c.name.valid&&l.a.createElement("span",{className:"error"},"Name is required"),l.a.createElement(v.a,{label:"User Name",value:c.userName.value,onChange:y("userName"),margin:"normal"}),!c.userName.valid&&l.a.createElement("span",{className:"error"},"User Name is required"),l.a.createElement(v.a,{label:"Email",type:"email",value:c.email.value,onChange:y("email"),margin:"normal"}),!c.email.valid&&l.a.createElement("span",{className:"error"},"e-mail format is incorrect"),l.a.createElement(v.a,{label:"Password",onChange:y("password"),value:c.password.value,type:"password",margin:"normal"}),!c.password.valid&&l.a.createElement("span",{className:"error"},"Password min length is 5"),l.a.createElement("button",{type:"submit",disabled:!c.formIsValid},"Sign Up"))}),E=t(6),w=Object(E.f)(function(e){var a=e.error,t=e.history,o={email:{value:"",valid:!1,validators:[p,f]},password:{value:"",valid:!1,validators:[f,b]},formIsValid:!1},i=Object(r.useState)(o),s=Object(n.a)(i,2),c=s[0],h=s[1],E=Object(r.useContext)(g.c),w=Object(n.a)(E,2),O=w[0],j=w[1],y=function(e){return function(a){var t=!0,n=!0,r=!1,l=void 0;try{for(var o,i=c[e].validators[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;t=t&&s(a.target.value)}}catch(b){r=!0,l=b}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}var v=Object(u.a)({},c,Object(m.a)({},e,Object(u.a)({},c[e],{value:a.target.value,valid:t}))),d=!0;for(var f in v)"formIsValid"!==f&&(d=d&&v[f].valid);v=Object(u.a)({},v,{formIsValid:d}),h(v)}};return l.a.createElement("form",{onSubmit:function(e){!function(e){e.preventDefault(),j(Object(u.a)({},O,{showLoader:!0}));var n={email:c.email.value,password:c.password.value};Object(d.a)("auth/login",JSON.stringify(n)).then(function(e){if(j(Object(u.a)({},O,{showLoader:!1})),201!==e.status)throw new Error(e.message);localStorage.setItem("token",e.content.token),localStorage.setItem("TTTuserId",e.content.userId),h(o),t.push("/Main")}).catch(function(e){j(Object(u.a)({},O,{showLoader:!1})),a(e.message)})}(e)}},l.a.createElement("h1",null,"Sign in"),l.a.createElement("br",null),l.a.createElement(v.a,{label:"Email",type:"email",value:c.email.value,onChange:y("email"),margin:"normal"}),!c.email.valid&&l.a.createElement("span",{className:"error"},"e-mail format is incorrect"),l.a.createElement(v.a,{label:"Password",onChange:y("password"),value:c.password.value,type:"password",margin:"normal"}),!c.password.valid&&l.a.createElement("span",{className:"error"},"Password min length is 5"),l.a.createElement("button",{type:"submit",disabled:!c.formIsValid},"Sign In"))}),O=t(33);t(202),a.default=function(e){var a=e.history,t=Object(r.useState)("signIn"),m=Object(n.a)(t,2),u=m[0],v=m[1],d=Object(r.useState)(""),f=Object(n.a)(d,2),b=f[0],p=f[1],E=Object(r.useContext)(g.c),j=Object(n.a)(E,1)[0];Object(r.useEffect)(function(){localStorage.getItem("TTTtoken")&&a.push("/Main")},[]);var y=function(e){p(e)};return l.a.createElement("div",{className:"Auth"},j.showLoader&&l.a.createElement(O.a,null),l.a.createElement(i.a,{open:b.length>0,onClose:function(){return p("")}},l.a.createElement(s.a,null,b),l.a.createElement(c.a,null,l.a.createElement(o.a,{onClick:function(){return p("")},color:"primary"},"OK"))),l.a.createElement("div",{className:"container ".concat("signIn"===u?"":"right-panel-active"),id:"container"},l.a.createElement("div",{className:"form-container sign-up-container"},l.a.createElement(h,{error:y,userCreated:v})),l.a.createElement("div",{className:"form-container sign-in-container"},l.a.createElement(w,{error:y})),l.a.createElement("div",{className:"overlay-container"},l.a.createElement("div",{className:"overlay"},l.a.createElement("div",{className:"overlay-panel overlay-left"},l.a.createElement("h1",null,"Welcome Back!"),l.a.createElement("p",null,"To keep connected with us please login with your personal info"),l.a.createElement("button",{type:"button",className:"ghost",onClick:function(){v("signIn")}},"Sign In")),l.a.createElement("div",{className:"overlay-panel overlay-right"},l.a.createElement("h1",null,"Hello, Friend!"),l.a.createElement("p",null,"Enter your personal details and start journey with us"),l.a.createElement("button",{type:"button",className:"ghost",onClick:function(){v("SignUp")}},"Sign Up"))))))}}}]);
//# sourceMappingURL=5.9ba97792.chunk.js.map