{"version":3,"sources":["components/authentication.jsx","routes.jsx","App.jsx","index.js","store.jsx","util/const.js","util/request.js","components/pageLoader.jsx"],"names":["requireAuth","Component","AuthenticatedComponent","_React$Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","state","isLoggedIn","inherits","createClass","key","value","checkAuth","localStorage","getItem","setState","props","history","push","react_default","a","createElement","React","withRouter","waitFor","Tag","Auth","lazy","Promise","all","__webpack_require__","e","then","bind","Main","_ref","location","react","fallback","pageLoader","react_router","path","component","to","App","store","react_router_dom","basename","routes","window","onbeforeunload","event","userId","put","JSON","stringify","status","ReactDOM","render","src_App","document","getElementById","settingsInitial","showLoader","message","settingsContext","createContext","gameContext","Store","children","_useState","useState","_useState2","E_Ahmad_Projects_React_js_TicTacToe_Reactjs_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","settings","setSettings","_useState3","_useState4","game","setGame","react__WEBPACK_IMPORTED_MODULE_1___default","Provider","util_const","API_MAIN_URL","d","__webpack_exports__","request_post","request_put","socket","init","token","headers","Content-Type","Authorization","post","url","body","options","axios","consts","res","data","catch","err","Error","openSocket","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_loader_spinner__WEBPACK_IMPORTED_MODULE_1__","react_loader_spinner__WEBPACK_IMPORTED_MODULE_1___default","styles","container","width","height","position","display","justifyContent","alignItems","zIndex","background","PageLoader","style","type","color"],"mappings":"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","file":"static/js/main.79e7d3b9.chunk.js","sourcesContent":["import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function requireAuth(Component)\r\n{\r\n  class AuthenticatedComponent extends React.Component\r\n  {\r\n    state = {\r\n      isLoggedIn: false,\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n      this.checkAuth();\r\n    }\r\n\r\n    checkAuth()\r\n    {\r\n      const token = localStorage.getItem('token');\r\n\r\n      if (!token)\r\n      {\r\n        const { history } = this.props;\r\n        history.push('/Auth');\r\n      } else\r\n      {\r\n        this.setState({ isLoggedIn: true });\r\n      }\r\n    }\r\n\r\n    render()\r\n    {\r\n      const { isLoggedIn } = this.state;\r\n      return isLoggedIn\r\n        ? <Component {...this.props} />\r\n        : null;\r\n    }\r\n  }\r\n\r\n  AuthenticatedComponent.propTypes = {\r\n    history: PropTypes.shape({\r\n      push: PropTypes.func.isRequired,\r\n    }).isRequired,\r\n  };\r\n\r\n  return withRouter(AuthenticatedComponent);\r\n}\r\n","import React, {\r\n  Suspense,\r\n  lazy,\r\n  Fragment,\r\n} from 'react';\r\nimport\r\n{\r\n  withRouter,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport requireAuth from './components/authentication';\r\nimport PageLoader from './components/pageLoader';\r\n\r\nconst waitFor = Tag => props => <Tag {...props} />;\r\nconst Auth = lazy(() => import('./containers/Auth/auth'));\r\nconst Main = lazy(() => import('./containers/Main/main'));\r\n\r\nconst Routes = ({ location }) => (\r\n  <Fragment>\r\n    <Suspense fallback={<PageLoader />}>\r\n      <Switch location={location}>\r\n        <Route path=\"/Auth\" component={waitFor(Auth)} />\r\n        <Route path=\"/Main\" component={waitFor(requireAuth(Main))} />\r\n        <Redirect to=\"/Auth\" />\r\n      </Switch>\r\n    </Suspense>\r\n  </Fragment>\r\n);\r\n\r\nRoutes.propTypes = {\r\n  location: PropTypes.shape({\r\n    pathname: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport default withRouter(Routes);\r\n","import React from 'react';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport Routes from './routes';\r\nimport Store from './store';\r\n// import { put } from './util/request';\r\n\r\nfunction App()\r\n{\r\n  return (\r\n    <Store>\r\n      <HashRouter basename=\"/\">\r\n        <Routes />\r\n      </HashRouter>\r\n    </Store>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { put } from './util/request';\r\n\r\n// window.addEventListener('unload', (e) =>\r\n// {\r\n//   e.preventDefault();\r\n//   const userId = localStorage.getItem('TTTuserId');\r\n//   if (userId)\r\n//   {\r\n//     put('user/changeStatus', JSON.stringify({ userId, status: false }));\r\n//   }\r\n// });\r\n\r\nwindow.onbeforeunload = (event) =>\r\n{\r\n  if (event)\r\n  {\r\n    const userId = localStorage.getItem('TTTuserId');\r\n    if (userId)\r\n    {\r\n      put('user/changeStatus', JSON.stringify({ userId, status: false }));\r\n    }\r\n  }\r\n  return true;\r\n};\r\n\r\n// eslint-disable-next-line react/jsx-filename-extension\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","import React, { useState } from 'react';\r\n\r\nconst settingsInitial = {\r\n  showLoader: false,\r\n  message: '',\r\n};\r\n\r\nexport const settingsContext = React.createContext(settingsInitial);\r\nexport const gameContext = React.createContext(null);\r\n\r\n// eslint-disable-next-line react/prop-types\r\nconst Store = ({ children }) =>\r\n{\r\n  const [settings, setSettings] = useState(settingsInitial);\r\n  const [game, setGame] = useState(null);\r\n\r\n  return (\r\n    <settingsContext.Provider value={[settings, setSettings]}>\r\n      <gameContext.Provider value={[game, setGame]}>\r\n        {children}\r\n      </gameContext.Provider>\r\n    </settingsContext.Provider>\r\n  );\r\n};\r\n\r\nexport default Store;\r\n","const API_MAIN_URL = process.env.NODE_ENV === 'development'\r\n  ? 'http://localhost:8080'\r\n  : 'https://ahmad-tic-tac-toe-api.herokuapp.com';\r\n\r\nexport default { API_MAIN_URL };","/* eslint-disable import/prefer-default-export */\r\nimport axios from 'axios';\r\nimport openSocket from 'socket.io-client';\r\nimport consts from './const';\r\n\r\nconst init = () =>\r\n{\r\n  const token = localStorage.getItem('token');\r\n  const options = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  };\r\n\r\n  return options;\r\n};\r\n\r\nexport const get = (url) =>\r\n{\r\n  const options = init();\r\n  return axios.get(`${consts.API_MAIN_URL}/${url}`, options)\r\n    .then(res => res.data)\r\n    .catch((err) => { throw new Error(err); });\r\n};\r\n\r\nexport const post = (url, body) =>\r\n{\r\n  const options = init();\r\n  return axios.post(`${consts.API_MAIN_URL}/${url}`, body, options)\r\n    .then(res => res.data)\r\n    .catch((err) => { throw new Error(err); });\r\n};\r\n\r\nexport const put = (url, body) =>\r\n{\r\n  const options = init();\r\n  return axios.put(`${consts.API_MAIN_URL}/${url}`, body, options)\r\n    .then(res => res.data)\r\n    .catch((err) => { throw new Error(err); });\r\n};\r\n\r\nexport const del = (url) =>\r\n{\r\n  const options = init();\r\n  return axios.delete(`${consts.API_MAIN_URL}/${url}`, options)\r\n    .then(res => res.data)\r\n    .catch((err) => { throw new Error(err); });\r\n};\r\n\r\nexport const socket = openSocket(consts.API_MAIN_URL);\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst styles = {\r\n  container: {\r\n    width: '100%',\r\n    height: '100%',\r\n    position: 'absolute',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    zIndex: '999',\r\n    background: 'rgba(0, 0, 0, .3)',\r\n  },\r\n};\r\n\r\nconst PageLoader = () => (\r\n  <div style={styles.container}>\r\n    <Loader\r\n      type=\"RevolvingDot\"\r\n      color=\"#09DD0C\"\r\n      height=\"100\"\r\n      width=\"100\"\r\n    />\r\n  </div>\r\n);\r\n\r\nexport default PageLoader;\r\n"],"sourceRoot":""}